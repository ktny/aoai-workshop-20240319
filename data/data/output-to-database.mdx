---
title: 各種データベースに出力
---
import Img from "../../components/Img.tsx";

## Oracle

Oracle Databaseに接続する場合は、JDBCドライバーを使用して接続します。\
その際の手順は以下のようになります。KIの画面上から操作可能です。

1. KIの画面からJDBCドライバーをアップロード\
   \
   管理者でログインします。\
   システム設定からドライバーアップロードに移り、[ファイル選択]から「ojdbc8.jar」をアップロードしてください。\
   JDBCドライバーの取得については以下のページを参照してください。\
   [https://www.oracle.com/database/technologies/appdev/jdbc-downloads.html](https://www.oracle.com/database/technologies/appdev/jdbc-downloads.html)

   <Img src="/assets/img/capture/capture-various-databases-1.png" alt="ドライバーアップロード" client:load />

1. 出力設定にてデータベース接続情報を入力\
   [ワークフロー]画面で出力するデータセットを選択して[出力]ボタンをクリックします。\
   表示される画面にて「データベースに出力」を選択し、保存済みの接続設定を選択するか、以下の項目を設定してください。

   | 項目名                            | 説明                                                                                                                            |
   | --------------------------------- | ------------------------------------------------------------------------------------------------------------------------------- |
   | 接続先データベース                | プルダウンから「Oracle」を選択します。                                                                                          |
   | ホスト名                          | Oracle Databaseのホスト名を入力します。                                                                                         |
   | ポート番号                        | Oracle Databaseのポート番号を入力します。                                                                                       |
   | サービス名                        | Oracle Databaseのサービス名を入力します。                                                                                       |
   | ユーザー名                        | Oracle Databaseのユーザー名を入力します。                                                                                       |
   | パスワード                        | Oracle Databaseのパスワードを入力します。                                                                                       |
   | オプション                        | 以下のいずれかを指定します。                                                                                                    |
   |                                   | - 「新しいテーブルを作成 (CREATE)」：                                                                                           |
   |                                   | 　出力するデータを用いて、新しいテーブルを作成します。                                                                          |
   |                                   | 　新しいテーブルの名前は、[テーブル名]に入力した名前となります。                                                                |
   |                                   | 　[同名テーブルが存在する場合は上書きする]にチェックを入れると、すでに存在するテーブルに出力した場合はテーブルが再作成されます。|
   |                                   | - 「データを追加 (INSERT)」：                                                                                                   |
   |                                   | 　[テーブル名]で指定したテーブルに、出力するデータを追加します。                                                                |
   |                                   | - 「テーブルを再作成 (DROP & CREATE)」：                                                                                        |
   |                                   | 　[テーブル名]で指定したテーブル自体を削除した後、出力するデータを用いて新たに同名のテーブルを作成します。                      |
   |                                   | - 「全データを削除して追加 (TRUNCATE & INSERT)」：                                                                              |
   |                                   | 　[テーブル名]で指定したテーブルの全データを削除した後、出力するデータを追加します。                                            |
   | テーブル名                        | テーブル名を入力します。                                                                                                        |
   | 高度な設定                        | - 列名変更                                                                                                                      |
   | :version[2.1.5]:version[2.3.0]    | 　データベース出力時の列名を変更することができます。                                                                            |
   |                                   | 　[オプション]で「新しいテーブルを作成 (CREATE)」、もしくは「テーブルを再作成 (DROP & CREATE)」を選択した場合のみ設定できます。 |
   |                                   | - トランザクション設定：                                                                                                        |
   |                                   | 　トランザクション機能のON/OFFを設定できます。                                                                                  |
   |                                   | 　[自動]を選択した場合は、接続するデータベースに応じてKIが自動で判定します。                                                    |

1. 出力\
   [出力]ボタンをクリックすると、設定した内容で出力されます。\
   なお、[設定]ボタンをクリックすると、データは出力されず設定内容が保存されます。

:::note{.hint}
ヒント

- データを更新して出力する場合は、[設定]ボタンをクリックして出力設定を保存した後に、フローの再実行をする必要があります。
- 出力、および出力の設定をすると、画面上の表示が以下(青枠部分)のように切り換わります。

  <Img src="/assets/img/capture/capture-various-databases-2.png" alt="データを更新して出力" client:load />
:::

## MySQL

MySQLへの接続方法について説明します。

1. 出力設定にてデータベース接続情報を入力 \
   \
   [ワークフロー]画面で出力するデータセットを選択して[出力]ボタンをクリックします。\
   表示される画面にて「データベースに出力」を選択し、保存済みの接続設定を選択するか、以下の項目を設定してください。

   | 項目名                            | 説明                                                                                                                            |
   | --------------------------------- | ------------------------------------------------------------------------------------------------------------------------------- |
   | 接続先データベース                | プルダウンから「MySQL」を選択します。                                                                                           |
   | ホスト名                          | MySQLのホスト名を入力します。                                                                                                   |
   | ポート番号                        | MySQLのポート番号を入力します。                                                                                                 |
   | データベース名                    | MySQLのデータベース名を入力します。                                                                                             |
   | ユーザー名                        | MySQLのユーザー名を入力します。                                                                                                 |
   | パスワード                        | MySQLのパスワードを入力します。                                                                                                 |
   | オプション                        | 以下のいずれかを指定します。                                                                                                    |
   |                                   | - 「新しいテーブルを作成 (CREATE)」：                                                                                           |
   |                                   | 　出力するデータを用いて、新しいテーブルを作成します。                                                                          |
   |                                   | 　新しいテーブルの名前は、[テーブル名]に入力した名前となります。                                                                |
   |                                   | 　[同名テーブルが存在する場合は上書きする]にチェックを入れると、すでに存在するテーブルに出力した場合はテーブルが再作成されます。|
   |                                   | - 「データを追加 (INSERT)」：                                                                                                   |
   |                                   | 　[テーブル名]で指定したテーブルに、出力するデータを追加します。                                                                |
   |                                   | - 「テーブルを再作成 (DROP & CREATE)」：                                                                                        |
   |                                   | 　[テーブル名]で指定したテーブル自体を削除した後、出力するデータを用いて新たに同名のテーブルを作成します。                      |
   |                                   | - 「全データを削除して追加 (TRUNCATE & INSERT)」：                                                                              |
   |                                   | 　[テーブル名]で指定したテーブルの全データを削除した後、出力するデータを追加します。                                            |
   | テーブル名                        | テーブル名を入力します。                                                                                                        |
   | 高度な設定                        | - 列名変更                                                                                                                      |
   | :version[2.1.5]:version[2.3.0]    | 　データベース出力時の列名を変更することができます。                                                                            |
   |                                   | 　[オプション]で「新しいテーブルを作成 (CREATE)」、もしくは「テーブルを再作成 (DROP & CREATE)」を選択した場合のみ設定できます。 |
   |                                   | - トランザクション設定：                                                                                                        |
   |                                   | 　トランザクション機能のON/OFFを設定できます。                                                                                  |
   |                                   | 　[自動]を選択した場合は、接続するデータベースに応じてKIが自動で判定します。                                                    |

1. 出力\
   [出力]ボタンをクリックすると、設定した内容で出力されます。\
   なお、[設定]ボタンをクリックすると、データは出力されず設定内容が保存されます。

:::note{.hint}
ヒント

- データを更新して出力する場合は、[設定]ボタンをクリックして出力設定を保存した後に、フローの再実行をする必要があります。
- 出力、および出力の設定をすると、画面上の表示が以下(青枠部分)のように切り換わります。

  <Img src="/assets/img/capture/capture-various-databases-2.png" alt="データを更新して出力" client:load />
:::

## PostgreSQL

PostgreSQLへの接続方法について説明します。

1. 出力設定にてデータベース接続情報を入力 \
   [ワークフロー]画面で出力するデータセットを選択して[出力]ボタンをクリックします。 \
   表示される画面にて「データベースに出力」を選択し、保存済みの接続設定を選択するか、以下の項目を設定してください。

   | 項目名                            | 説明                                                                                                                            |
   | --------------------------------- | ------------------------------------------------------------------------------------------------------------------------------- |
   | 接続先データベース                | プルダウンから「PostgreSQL」を選択します。                                                                                      |
   | ホスト名                          | PostgreSQLのホスト名を入力します。                                                                                              |
   | ポート番号                        | PostgreSQLのポート番号を入力します。                                                                                            |
   | データベース名                    | PostgreSQLのデータベース名を入力します。                                                                                        |
   | ユーザー名                        | PostgreSQLのユーザー名を入力します。                                                                                            |
   | パスワード                        | PostgreSQLのパスワードを入力します。                                                                                            |
   | オプション                        | 以下のいずれかを指定します。                                                                                                    |
   |                                   | - 「新しいテーブルを作成 (CREATE)」：                                                                                           |
   |                                   | 　出力するデータを用いて、新しいテーブルを作成します。                                                                          |
   |                                   | 　新しいテーブルの名前は、[テーブル名]に入力した名前となります。                                                                |
   |                                   | 　[同名テーブルが存在する場合は上書きする]にチェックを入れると、すでに存在するテーブルに出力した場合はテーブルが再作成されます。|
   |                                   | - 「データを追加 (INSERT)」：                                                                                                   |
   |                                   | 　[テーブル名]で指定したテーブルに、出力するデータを追加します。                                                                |
   |                                   | - 「テーブルを再作成 (DROP & CREATE)」：                                                                                        |
   |                                   | 　[テーブル名]で指定したテーブル自体を削除した後、出力するデータを用いて新たに同名のテーブルを作成します。                      |
   |                                   | - 「全データを削除して追加 (TRUNCATE & INSERT)」：                                                                              |
   |                                   | 　[テーブル名]で指定したテーブルの全データを削除した後、出力するデータを追加します。                                            |
   | テーブル名                        | テーブル名を入力します。                                                                                                        |
   | 高度な設定                        | - 列名変更                                                                                                                      |
   | :version[2.1.5]:version[2.3.0]    | 　データベース出力時の列名を変更することができます。                                                                            |
   |                                   | 　[オプション]で「新しいテーブルを作成 (CREATE)」、もしくは「テーブルを再作成 (DROP & CREATE)」を選択した場合のみ設定できます。 |
   |                                   | - トランザクション設定：                                                                                                        |
   |                                   | 　トランザクション機能のON/OFFを設定できます。                                                                                  |
   |                                   | 　[自動]を選択した場合は、接続するデータベースに応じてKIが自動で判定します。                                                    |

1. 出力\
   [出力]ボタンをクリックすると、設定した内容で出力されます。\
   なお、[設定]ボタンをクリックすると、データは出力されず設定内容が保存されます。

:::note{.hint}
ヒント

- データを更新して出力する場合は、[設定]ボタンをクリックして出力設定を保存した後に、フローの再実行をする必要があります。
- 出力、および出力の設定をすると、画面上の表示が以下(青枠部分)のように切り換わります。

  <Img src="/assets/img/capture/capture-various-databases-2.png" alt="データを更新して出力" client:load />
:::

## SQLServer

SQLServerに接続する場合は、JDBCドライバーを使用して接続します。\
その際の手順は以下のようになります。KIの画面上から操作可能です。

1. KIの画面からJDBCドライバーをアップロード\
   \
   管理者でログインします。\
   システム設定からドライバーアップロードに移り、[ファイル選択]からJDBCドライバーをアップロードしてください。\
   KIには必ず「mssql-jdbc-7.2.2.jre8.jar」か「mssql-jdbc-10.2.0.jre8.jar」をアップロードしてください。\
   ファイルは以下ページよりダウンロードが可能です。

   | ファイル名                 | URL                                                                                                                                                                                                                                              |
   | -------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
   | mssql-jdbc-7.2.2.jre8.jar  | [https://github.com/Microsoft/mssql-jdbc/releases/tag/v7.2.2](https://github.com/Microsoft/mssql-jdbc/releases/tag/v7.2.2)                                                                                                                       |
   |                            | 自己解凍形式exe：                                                                                                                                                                                                                                |
   |                            | [https://learn.microsoft.com/ja-jp/sql/connect/jdbc/release-notes-for-the-jdbc-driver?view=sql-server-2017#-722](https://learn.microsoft.com/ja-jp/sql/connect/jdbc/release-notes-for-the-jdbc-driver?view=sql-server-2017#-722)                 |
   | mssql-jdbc-10.2.0.jre8.jar | [https://github.com/Microsoft/mssql-jdbc/releases/tag/v10.2.0](https://github.com/Microsoft/mssql-jdbc/releases/tag/v10.2.0)                                                                                                                     |
   |                            | 自己解凍形式exe：                                                                                                                                                                                                                                |
   |                            | [https://learn.microsoft.com/ja-jp/sql/connect/jdbc/release-notes-for-the-jdbc-driver?view=sql-server-2017#102-releases](https://learn.microsoft.com/ja-jp/sql/connect/jdbc/release-notes-for-the-jdbc-driver?view=sql-server-2017#102-releases) |

   <Img src="/assets/img/capture/capture-various-databases-1.png" alt="ドライバーアップロード" client:load />

   :::note{.point}
   ポイント

   KIが認識できるファイルは「mssql-jdbc-7.2.2.jre8.jar」と、「mssql-jdbc-10.2.0.jre8.jar」のみですのでご注意ください。\
   なお、両方ともKIにアップロードされている場合は、「mssql-jdbc-10.2.0.jre8.jar」が使用されます。
   :::

1. 出力設定にてデータベース接続情報を入力 \
   \
   [ワークフロー]画面で出力するデータセットを選択して[出力]ボタンをクリックします。\
   表示される画面にて「データベースに出力」を選択し、保存済みの接続設定を選択するか、以下の項目を設定してください。

   | 項目名                            | 説明                                                                                                                            |
   | --------------------------------- | ------------------------------------------------------------------------------------------------------------------------------- |
   | 接続先データベース                | プルダウンから「SQLServer」を選択します。                                                                                       |
   | ホスト名                          | SQLServerのホスト名を入力します。                                                                                               |
   | ポート番号                        | SQLServerのポート番号を入力します。                                                                                             |
   | データベース名                    | SQLServerのデータベース名を入力します。                                                                                         |
   | ユーザー名                        | SQLServerのユーザー名を入力します。                                                                                             |
   | パスワード                        | SQLServerのパスワードを入力します。                                                                                             |
   | オプション                        | 以下のいずれかを指定します。                                                                                                    |
   |                                   | - 「新しいテーブルを作成 (CREATE)」：                                                                                           |
   |                                   | 　出力するデータを用いて、新しいテーブルを作成します。                                                                          |
   |                                   | 　新しいテーブルの名前は、[テーブル名]に入力した名前となります。                                                                |
   |                                   | 　[同名テーブルが存在する場合は上書きする]にチェックを入れると、すでに存在するテーブルに出力した場合はテーブルが再作成されます。|
   |                                   | - 「データを追加 (INSERT)」：                                                                                                   |
   |                                   | 　[テーブル名]で指定したテーブルに、出力するデータを追加します。                                                                |
   |                                   | - 「テーブルを再作成 (DROP & CREATE)」：                                                                                        |
   |                                   | 　[テーブル名]で指定したテーブル自体を削除した後、出力するデータを用いて新たに同名のテーブルを作成します。                      |
   |                                   | - 「全データを削除して追加 (TRUNCATE & INSERT)」：                                                                              |
   |                                   | 　[テーブル名]で指定したテーブルの全データを削除した後、出力するデータを追加します。                                            |
   | テーブル名                        | テーブル名を入力します。                                                                                                        |
   | 高度な設定                        | - 列名変更                                                                                                                      |
   | :version[2.1.5]:version[2.3.0]    | 　データベース出力時の列名を変更することができます。                                                                            |
   |                                   | 　[オプション]で「新しいテーブルを作成 (CREATE)」、もしくは「テーブルを再作成 (DROP & CREATE)」を選択した場合のみ設定できます。 |
   |                                   | - トランザクション設定：                                                                                                        |
   |                                   | 　トランザクション機能のON/OFFを設定できます。                                                                                  |
   |                                   | 　[自動]を選択した場合は、接続するデータベースに応じてKIが自動で判定します。                                                    |

1. 出力\
   [出力]ボタンをクリックすると、設定した内容で出力されます。\
   なお、[設定]ボタンをクリックすると、データは出力されず設定内容が保存されます。

:::note{.hint}
ヒント

- データを更新して出力する場合は、[設定]ボタンをクリックして出力設定を保存した後に、フローの再実行をする必要があります。
- 出力、および出力の設定をすると、画面上の表示が以下(青枠部分)のように切り換わります。

  <Img src="/assets/img/capture/capture-various-databases-2.png" alt="データを更新して出力" client:load />
:::

## JDBC

JDBCへは、JDBCドライバーを使用して接続します。\
その際の手順は以下のようになります。KIの画面上から操作可能です。

1. KIの画面からJDBCドライバーをアップロード \
    \
   管理者でログインします。\
   システム設定からドライバーアップロードに移り、[ファイル選択]からJDBCドライバーをアップロードしてください。

   <Img src="/assets/img/capture/capture-various-databases-1.png" alt="ドライバーアップロード" client:load />

1. 出力設定にてデータベース接続情報を入力 \
   \
   [ワークフロー]画面で出力するデータセットを選択して[出力]ボタンをクリックします。\
   表示される画面にて「データベースに出力」を選択し、保存済みの接続設定を選択するか、以下の項目を設定してください。

   | 項目名                            | 説明                                                                                                                            |
   | --------------------------------- | ------------------------------------------------------------------------------------------------------------------------------- |
   | 接続先データベース                | プルダウンから「JDBC」を選択します。                                                                                            |
   | 接続文字列                        | JDBCの接続文字列を入力します。                                                                                                    |
   | クラス名                          | JDBCのクラス名を入力します。                                                                                                    |
   | ドライバーファイル名              | JDBCのドライバーファイル名を入力します。                                                                                                  |
   | ユーザー名                        | JDBCのユーザー名を入力します。                                                                                                  |
   | パスワード                        | JDBCのパスワードを入力します。                                                                                                  |
   | オプション                        | 以下のいずれかを指定します。                                                                                                    |
   |                                   | - 「新しいテーブルを作成 (CREATE)」：                                                                                           |
   |                                   | 　出力するデータを用いて、新しいテーブルを作成します。                                                                          |
   |                                   | 　新しいテーブルの名前は、[テーブル名]に入力した名前となります。                                                                |
   |                                   | 　[同名テーブルが存在する場合は上書きする]にチェックを入れると、すでに存在するテーブルに出力した場合はテーブルが再作成されます。|
   |                                   | - 「データを追加 (INSERT)」：                                                                                                   |
   |                                   | 　[テーブル名]で指定したテーブルに、出力するデータを追加します。                                                                |
   |                                   | - 「テーブルを再作成 (DROP & CREATE)」：                                                                                        |
   |                                   | 　[テーブル名]で指定したテーブル自体を削除した後、出力するデータを用いて新たに同名のテーブルを作成します。                      |
   |                                   | - 「全データを削除して追加 (TRUNCATE & INSERT)」：                                                                              |
   |                                   | 　[テーブル名]で指定したテーブルの全データを削除した後、出力するデータを追加します。                                            |
   | テーブル名                        | テーブル名を入力します。                                                                                                        |
   | 高度な設定                        | - 列名変更                                                                                                                      |
   | :version[2.1.5]:version[2.3.0]    | 　データベース出力時の列名を変更することができます。                                                                            |
   |                                   | 　[オプション]で「新しいテーブルを作成 (CREATE)」、もしくは「テーブルを再作成 (DROP & CREATE)」を選択した場合のみ設定できます。 |
   |                                   | - トランザクション設定：                                                                                                        |
   |                                   | 　トランザクション機能のON/OFFを設定できます。                                                                                  |
   |                                   | 　[自動]を選択した場合は、接続するデータベースに応じてKIが自動で判定します。                                                    |

1. 出力\
   [出力]ボタンをクリックすると、設定した内容で出力されます。\
   なお、[設定]ボタンをクリックすると、データは出力されず設定内容が保存されます。

:::note{.hint}
ヒント

- データを更新して出力する場合は、[設定]ボタンをクリックして出力設定を保存した後に、フローの再実行をする必要があります。
- 出力、および出力の設定をすると、画面上の表示が以下(青枠部分)のように切り換わります。

  <Img src="/assets/img/capture/capture-various-databases-2.png" alt="データを更新して出力" client:load />
:::

## Amazon Redshift

Amazon Redshiftと接続する場合は、Postgresのドライバーではなく、JDBCドライバーを使用して接続します。\
その際の手順は以下のようになります。KIの画面上から操作可能です。

1. KIの画面からJDBCドライバーをアップロード\
   \
   管理者でログインします。\
   システム設定からドライバーアップロードに移り、[ファイル選択]からJDBCドライバーをアップロードしてください。\
   Redshift用のJDBCドライバーの取得については以下のページを参照してください。

   [https://docs.aws.amazon.com/ja_jp/redshift/latest/mgmt/jdbc20-download-driver.html](https://docs.aws.amazon.com/ja_jp/redshift/latest/mgmt/jdbc20-download-driver.html)

   <Img src="/assets/img/capture/capture-various-databases-1.png" alt="ドライバーアップロード" client:load />

1. 出力設定にてデータベース接続情報を入力 \
   \
   [ワークフロー]画面で出力するデータセットを選択して[出力]ボタンをクリックします。\
   表示される画面にて「データベースに出力」を選択し、保存済みの接続設定を選択するか、以下の項目を設定してください。

   | 項目名                            | 説明                                                                                                                                                                       |
   | --------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
   | 接続先データベース                | プルダウンから「Amazon Redshift」を選択します。                                                                                                                            |
   | 接続文字列                        | 以下のページを参照し、該当するRedshiftのクラスター接続文字列(「JDBC URL」の値)を記入します。                                                                               |
   |                                   | [https://docs.aws.amazon.com/ja_jp/redshift/latest/mgmt/configuring-connections.html](https://docs.aws.amazon.com/ja_jp/redshift/latest/mgmt/configuring-connections.html) |
   | クラス名                          | 以下のページを参照して入力します。                                                                                                                                         |
   |                                   | [https://docs.aws.amazon.com/ja_jp/redshift/latest/mgmt/jdbc20-download-driver.html](https://docs.aws.amazon.com/ja_jp/redshift/latest/mgmt/jdbc20-download-driver.html)   |
   |                                   | 例)ドライバーファイル名が「RedshiftJDBC42-no-awssdk-1.2.34.1058.jar」のクラス名は、「com.amazon.redshift.jdbc42.Driver」となります。                                       |
   | ドライバーファイル名              | Redshiftのドライバーファイル名を入力します。                                                                                                                               |
   | ユーザー名                        | Redshiftのユーザー名を入力します。                                                                                                                                         |
   | パスワード                        | Redshiftのパスワードを入力します。                                                                                                                                         |
   | オプション                        | 以下のいずれかを指定します。                                                                                                                                               |
   |                                   | - 「新しいテーブルを作成 (CREATE)」：                                                                                                                                      |
   |                                   | 　出力するデータを用いて、新しいテーブルを作成します。                                                                                                                     |
   |                                   | 　新しいテーブルの名前は、[テーブル名]に入力した名前となります。                                                                                                           |
   |                                   | 　[同名テーブルが存在する場合は上書きする]にチェックを入れると、すでに存在するテーブルに出力した場合はテーブルが再作成されます。                                           |
   |                                   | - 「データを追加 (INSERT)」：                                                                                                                                              |
   |                                   | 　[テーブル名]で指定したテーブルに、出力するデータを追加します。                                                                                                           |
   |                                   | - 「テーブルを再作成 (DROP & CREATE)」：                                                                                                                                   |
   |                                   | 　[テーブル名]で指定したテーブル自体を削除した後、出力するデータを用いて新たに同名のテーブルを作成します。                                                                 |
   |                                   | - 「全データを削除して追加 (TRUNCATE & INSERT)」：                                                                                                                         |
   |                                   | 　[テーブル名]で指定したテーブルの全データを削除した後、出力するデータを追加します。                                                                                       |
   | テーブル名                        | テーブル名を入力します。                                                                                                                                                   |
   | 高度な設定                        | - 列名変更                                                                                                                                                                 |
   | :version[2.1.5]:version[2.3.0]    | 　データベース出力時の列名を変更することができます。                                                                                                                       |
   |                                   | 　[オプション]で「新しいテーブルを作成 (CREATE)」、もしくは「テーブルを再作成 (DROP & CREATE)」を選択した場合のみ設定できます。                                            |
   |                                   | - トランザクション設定：                                                                                                                                                   |
   |                                   | 　トランザクション機能のON/OFFを設定できます。                                                                                                                             |
   |                                   | 　[自動]を選択した場合は、接続するデータベースに応じてKIが自動で判定します。                                                                                               |

1. 出力\
   [出力]ボタンをクリックすると、設定した内容で出力されます。\
   なお、[設定]ボタンをクリックすると、データは出力されず設定内容が保存されます。

:::note{.hint}
ヒント
- データを更新して出力する場合は、[設定]ボタンをクリックして出力設定を保存した後に、フローの再実行をする必要があります。
- 出力、および出力の設定をすると、画面上の表示が以下(青枠部分)のように切り換わります。

  <Img src="/assets/img/capture/capture-various-databases-2.png" alt="データを更新して出力" client:load />
:::

## BigQuery
:version[2.1.5]

BigQueryへの接続方法について説明します。

1. 出力設定にてデータベース接続情報を入力\
   \
   [ワークフロー]画面で出力するデータセットを選択して[出力]ボタンをクリックします。\
   表示される画面にて「データベースに出力」を選択し、保存済みの接続設定を選択するか、以下の項目を設定してください。

   | 項目名                                                | 説明                                                                                                                                                                                  |
   | ----------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
   | 接続先データベース                                    | プルダウンから「BigQuery」を選択します。                                                                                                                                              |
   | データセット名                                        | BigQueryのデータセット名を入力します。                                                                                                                                                |
   | Google Cloud PlatformのプロジェクトID                 | Google Cloud PlatformのプロジェクトIDを入力します。                                                                                                                                   |
   | Google Cloud Platformの認証情報を直接入力して使用する | 特定の認証情報を使用する場合は、チェックを入れてください。                                                                                                                            |
   |                                                       | 特定の認証情報を使用しない場合、Google Cloud Storageへの認証は、Application Default Credentials (ADC)というライブラリでサービスアカウントの認証情報が自動で検索されておこなわれます。 |
   |                                                       | 詳細については以下のページを参照してください。                                                                                                                                        |
   |                                                       | [https://cloud.google.com/docs/authentication?hl=ja#adc](https://cloud.google.com/docs/authentication?hl=ja#adc)                                                                      |
   | サービスアカウントキー(JSON形式)                      | [Google Cloud Platformの認証情報を直接入力して使用する]にチェックを入れた場合は、JSON形式のサービスアカウントキーを入力してください。                                                  |
   |                                                       | 指定のBigQueryのデータセットに「BigQueryデータ編集者」以上の権限を、プロジェクトに「BigQueryジョブユーザー」以上の権限を持つサービスアカウントが必要です。                            |
   | オプション                                            | 以下のいずれかを指定します。                                                                                                                                                          |
   |                                                       | - 「新しいテーブルを作成 (CREATE)」：                                                                                                                                                 |
   |                                                       | 出力するデータを用いて、新しいテーブルを作成します。                                                                                                                                  |
   |                                                       | 新しいテーブルの名前は、[テーブル名]に入力した名前となります。                                                                                                                        |
   |                                                       | [同名テーブルが存在する場合は上書きする]にチェックを入れると、すでに存在するテーブルに出力した場合はテーブルが再作成されます。                                                        |
   |                                                       | - 「データを追加 (INSERT)」：                                                                                                                                                         |
   |                                                       | [テーブル名]で指定したテーブルに、出力するデータを追加します。                                                                                                                        |
   |                                                       | - 「テーブルを再作成 (DROP & CREATE)」：                                                                                                                                              |
   |                                                       | [テーブル名]で指定したテーブル自体を削除した後、出力するデータを用いて新たに同名のテーブルを作成します。                                                                              |
   | テーブル名                                            | テーブル名を入力します。                                                                                                                                                              |
   | 高度な設定:version[2.3.0]                             | - 列名変更                                                                                                                                                                            |
   |                                                       | 　データベース出力時の列名を変更することができます。                                                                                                                                  |
   |                                                       | 　[オプション]で「新しいテーブルを作成 (CREATE)」、もしくは「テーブルを再作成 (DROP & CREATE)」を選択した場合のみ設定できます。                                                       |
   |                                                       | - トランザクション設定：                                                                                                                                                              |
   |                                                       | 　トランザクション機能のON/OFFを設定できます。                                                                                                                                        |
   |                                                       | 　[自動]を選択した場合は、接続するデータベースに応じてKIが自動で判定します。                                                                                                          |

   :::note{.point}
   ポイント

   BigQueryへ出力する際には、出力元のデータセットの列名について以下の点に注意してください。

   - 列名には、英字(a-z、A-Z)、数字(0-9)、およびアンダースコア(\_)のみを使用できます。\
     たとえば日本語は使用できません。
   - 先頭文字は英字、またはアンダースコア(\_)にする必要があります。
   - 列名の最大長は300文字です。
   - 大文字と小文字が異なっている場合でも、重複する列名は使用できません。\
     たとえば、「Column1」という列は「column1」という列と同じとみなされます。
   - 列名には、次のいずれの接頭辞も使用できません。
     - \_TABLE_
     - \_FILE_
     - \_PARTITION
     - \_ROW_TIMESTAMP
     - \_\_ROOT\_\_
     - \_COLIDENTIFIER

   (公式ドキュメント：[https://cloud.google.com/bigquery/docs/schemas?hl=ja#schema_components](https://cloud.google.com/bigquery/docs/schemas?hl=ja#schema_components))\
   列名が変更可能の場合、[高度な設定]から列名の変更をおこなうことをご検討ください。
   :::

1. 出力\
   [出力]ボタンをクリックすると、設定した内容で出力されます。\
   なお、[設定]ボタンをクリックすると、データは出力されず設定内容が保存されます。

:::note{.hint}
ヒント

- データを更新して出力する場合は、[設定]ボタンをクリックして出力設定を保存した後に、フローの再実行をする必要があります。
- 出力、および出力の設定をすると、画面上の表示が以下(青枠部分)のように切り換わります。

  <Img src="/assets/img/capture/capture-various-databases-2.png" alt="データを更新して出力" client:load />
:::

## Amazon S3
:version[2.2.0]

Amazon S3への接続方法について説明します。

1. 出力設定にてデータベース接続情報を入力\
   \
   [ワークフロー]画面で出力するデータセットを選択して[出力]ボタンをクリックします。\
   表示される画面にて「データベースに出力」を選択し、保存済みの接続設定を選択するか、以下の項目を設定してください。

   | 項目名                                             | 説明                                                                                                                                                                     |
   | -------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
   | 接続先データベース                                 | プルダウンから「Amazon S3」を選択します。                                                                                                                                |
   | バケット名                                         | 出力先のバケット名を指定します。                                                                                                                                         |
   | Amazon Web Serviceの認証情報を直接入力して使用する | 特定の認証情報を使用する場合は、チェックを入れてください。                                                                                                               |
   |                                                    | 特定の認証情報を使用しない場合、Amazon S3への認証は、AWSのデフォルトの認証情報プロバイダーチェーンに従っておこなわれます。                                               |
   |                                                    | 詳細については以下のページを参照してください。                                                                                                                           |
   |                                                    | [https://docs.aws.amazon.com/ja_jp/sdk-for-java/v1/developer-guide/credentials.html](https://docs.aws.amazon.com/ja_jp/sdk-for-java/v1/developer-guide/credentials.html) |
   | アクセスキーID                                     | [Amazon Web Serviceの認証情報を直接入力して使用する]にチェックを入れた場合は、アクセスキーIDを指定します。                                                               |
   | シークレットアクセスキー                           | [Amazon Web Serviceの認証情報を直接入力して使用する]にチェックを入れた場合は、シークレットアクセスキーを指定します。                                                     |
   | オプション                                         | 「新しいファイルを作成 (CREATE)」のみ選択できます。                                                                                                                      |
   |                                                    | 出力するデータを用いて、CSVファイルを作成します。                                                                                                                        |
   |                                                    | 新しいファイルの名前は、[ファイル名]に入力した名前となります。                                                                                                           |
   |                                                    | [同名ファイルが存在する場合は上書きする]にチェックを入れると、すでに存在するファイルに出力した場合はファイルが再作成されます。                                           |
   | ファイル名(ファイルパス含む):version[2.3.0]        | 拡張子を除いたファイル名を入力します。                                                                                                                                   |
   | 高度な設定:version[2.3.0]                          | - 列名変更：                                                                                                                                                             |
   |                                                    | 　ファイル出力時の列名を変更することができます。                                                                                                                         |
   |                                                    | - トランザクション設定：                                                                                                                                                 |
   |                                                    | 　トランザクション機能のON/OFFを設定できます。                                                                                                                           |
   |                                                    | 　[自動]を選択した場合は、接続するデータベースに応じてKIが自動で判定します。                                                                                             |

   :::note{.point}
   ポイント

   Amazon S3への出力では、列名にカンマ文字(,)を使用することができません。\
   [高度な設定]から列名を変更する際は、カンマ文字(,)が含まれない列名を指定してください。\
   また、KI上の出力対象にカンマ文字(,)を含んだ列名が存在する場合は、[高度な設定]から列名を変更してください。
   :::

1. 出力 \
   [出力]ボタンをクリックすると、設定した内容で出力されます。\
   なお、[設定]ボタンをクリックすると、データは出力されず設定内容が保存されます。

:::note{.hint}
ヒント

- データを更新して出力する場合は、[設定]ボタンをクリックして出力設定を保存した後に、フローの再実行をする必要があります。
- 出力、および出力の設定をすると、画面上の表示が以下(青枠部分)のように切り換わります。

<Img src="/assets/img/capture/capture-various-databases-2.png" alt="データを更新して出力" client:load />
:::

## Google Cloud Storage
:version[2.2.0]

Google Cloud Storageへの接続方法について説明します。

1. 出力設定にてデータベース接続情報を入力\
   \
   [ワークフロー]画面で出力するデータセットを選択して[出力]ボタンをクリックします。\
   表示される画面にて「データベースに出力」を選択し、保存済みの接続設定を選択するか、以下の項目を設定してください。

   | 項目名                                                | 説明                                                                                                                                                                                  |
   | ----------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
   | 接続先データベース                                    | プルダウンから「Google Cloud Storage」を選択します。                                                                                                                                  |
   | バケット名                                            | 出力先のバケット名を指定します。                                                                                                                                                      |
   | Google Cloud Platformの認証情報を直接入力して使用する | 特定の認証情報を使用する場合は、チェックを入れてください。                                                                                                                            |
   |                                                       | 特定の認証情報を使用しない場合、Google Cloud Storageへの認証は、Application Default Credentials (ADC)というライブラリでサービスアカウントの認証情報が自動で検索されておこなわれます。 |
   |                                                       | 詳細については以下のページを参照してください。                                                                                                                                        |
   |                                                       | [https://cloud.google.com/docs/authentication?hl=ja#adc](https://cloud.google.com/docs/authentication?hl=ja#adc)                                                                      |
   | サービスアカウントキー(JSON形式)                      | [Google Cloud Platformの認証情報を直接入力して使用する]にチェックを入れた場合は、JSON形式のサービスアカウントキーを入力してください。                                                 |
   | オプション                                            | 「新しいファイルを作成 (CREATE)」のみ選択できます。                                                                                                                                   |
   |                                                       | 出力するデータを用いて、CSVファイルを作成します。                                                                                                                                     |
   |                                                       | 新しいファイルの名前は、[ファイル名]に入力した名前となります。                                                                                                                        |
   |                                                       | [同名ファイルが存在する場合は上書きする]にチェックを入れると、すでに存在するファイルに出力した場合はファイルが再作成されます。                                                        |
   | ファイル名(ファイルパス含む):version[2.3.0]           | 拡張子を除いたファイル名を入力します。                                                                                                                                                |
   | 高度な設定:version[2.3.0]                             | - 列名変更：                                                                                                                                                                          |
   |                                                       | 　ファイル出力時の列名を変更することができます。                                                                                                                                      |
   |                                                       | - トランザクション設定：                                                                                                                                                              |
   |                                                       | 　トランザクション機能のON/OFFを設定できます。                                                                                                                                        |
   |                                                       | 　[自動]を選択した場合は、接続するデータベースに応じてKIが自動で判定します。                                                                                                          |

   :::note{.point}
   ポイント

   Google Cloud Storageへの出力では、列名にカンマ文字(,)を使用することができません。\
   [高度な設定]から列名を変更する際は、カンマ文字(,)が含まれない列名を指定してください。\
   また、KI上の出力対象にカンマ文字(,)を含んだ列名が存在する場合は、[高度な設定]から列名を変更してください。
   :::

1. 出力\
   \
   [出力]ボタンをクリックすると、設定した内容で出力されます。\
   なお、[設定]ボタンをクリックすると、データは出力されず設定内容が保存されます。

:::note{.hint}
ヒント

- データを更新して出力する場合は、[設定]ボタンをクリックして出力設定を保存した後に、フローの再実行をする必要があります。
- 出力、および出力の設定をすると、画面上の表示が以下(青枠部分)のように切り換わります。

<Img src="/assets/img/capture/capture-various-databases-2.png" alt="データを更新して出力" client:load />
:::
