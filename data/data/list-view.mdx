---
title: リストビュー
---
import Img from "../../components/Img.tsx";
import Table from "../../components/commons/Table";

:version[2.3.0]

リストビューで分析する方法について、説明します。\
リストビューではデータをリスト形式で閲覧することができ、行/列の絞り込みや並べ替え等のデータ整形もおこなえます。\
また、リレーション先のデータからの集計結果の列や、データを自由に入力できる列を追加することもできます。

## リストビューの作成

1. [プロジェクト詳細]画面から、画面左側の[分析]を選択します。
1. [分析]画面が表示されますので、[+分析を作成]ボタンをクリックします。
1. リレーションが設定されていないデータセットがある場合は、確認画面が表示されます。\
   表示される画面にて、[分析を作成]ボタンをクリックします。
1. [新規分析作成]画面が表示されますので、分析名を入力後、[分析種別]から[リストビュー]を選択して[作成]ボタンをクリックします。
1. リストビューに使用する分析用データ、およびフィルターを指定して、[作成]ボタンをクリックします。\
   なお、フィルターは後からでも設定できます。

   <Img src="/assets/img/capture/capture-list-view-1.png" alt="リストビュー" client:load />

:::note{.hint}
ヒント

リストビュー作成後に表示される分析結果の[説明を追加]をクリックすると、分析に説明を追加することができます。:version[2.4.0]\
「http://」、または「https://」で始まる文字列はURLと認識され、リンクで表示されます。
リンクは[Ctrl]キーを押しながらクリックし、表示される画面の[OK]ボタンをクリックすると開くことができます(別タブ表示)。
:::

## 分析結果の確認

[分析]画面の一覧から、作成したリストビューを選択して分析結果を確認できます。\
作成したリストビュー上で行や列を絞り込んで、注目したいデータのリストを作成できます。\
各項目の見方は、以下を参照してください。

<Img src="/assets/img/capture/capture-list-view-2.png" alt="リストビュー" client:load />

1. クリックすると、全画面表示に切り換わります。:version[2.4.0]\
   再度クリックすると、通常の画面表示に戻ります。\
   なお、全画面表示中のURLを他のユーザーに共有すると、そのURLを開いたユーザーも同様に全画面表示で閲覧することができます。
1. クリックすると、分析の名前を変更できます。
1. リストビューの元にしているデータセット名が表示されます。\
   データセット名をクリックすると、[分析用データ]画面に遷移して内容を確認できます。
1. クリックすると、ブックマークに追加できます。\
   ブックマークから削除する場合は、再度アイコンをクリックしてください。
1. クリックすると、保存した時点の内容に戻します。
1. クリックすると、リストをCSVファイルで出力します。
1. クリックすると、設定した内容を保存します。\
   右端の展開ボタンから[別名で保存]を選択すると、別名で保存することもできます。
1. [+]ボタンをクリックしてフィルターを追加することにより、表示するデータを絞り込むことができます。:version[2.4.0]
   - 各フィルターの先頭に付いている丸いチェックボックスで、フィルターの有効/無効を切り換えることができます。
   - フィルターをクリックすると、条件を再設定することができます。\
     なお、閲覧するユーザーに応じて関連するデータで絞り込みたい場合は、[列]にデータ型が文字列型の列を指定し、条件のプルダウンから「現在のユーザーIDと一致」を選択してください。\
     [フィルターを適用するユーザー]でユーザー、およびユーザーグループを指定すると、特定のユーザーにのみフィルターを適用できます(指定外のユーザーにはフィルターが無効になります)。
   - 追加したフィルターを削除する場合は、フィルターをクリックして表示されるメニューの[フィルター削除]ボタンをクリックしてください。
1. 分析の説明が表示されます。:version[2.4.0]\
   クリックすると編集できます。
1. リスト形式でデータが表示されます。
   - 元データでID列が設定されている場合は、各セルをダブルクリックすると、リレーション設定に基づいてその行に紐づくデータが表示されます。
   - ヘッダー上で以下の操作をおこなえます。
     - 列名をドラッグ＆ドロップして列順の入れ替え
     - 列の間をドラッグ＆ドロップして列幅の調整
     - 列名をダブルクリックしてデータの並び替え\
       ダブルクリックする度に昇順、降順、解除の順で切り換えることが可能です。
   - ヘッダー右横の[▼]ボタンから以下の操作をおこなえます。
     - 列の設定:version[2.4.0]\
       データ入力列、およびリストビュー上で追加した集計列の設定を変更できます。\
       設定できる項目は以下のとおりです。
       - [基本設定]：\
         列の基本的な設定をおこないます。\
         データ入力列で設定できる項目は以下のとおりです。
         <Table
           headers={ [ "項目名", "説明" ] }
           rows={[
             [ "列名", "列の名前を変更できます。" ],
             [ { value: "種類", rowSpan: 5 }, "以下の種類で作成したデータ入力列の種類を変更できます。" ],
             [ "　- テキスト" ],
             [ "　- 複数行テキスト" ],
             [ "　- 選択肢" ],
             [ "変更後の種類も上記のいずれかから選択します。" ],
             [ "ID列", "ID列の名前が表示されます(変更不可)。" ],
          ]}
         />
         集計列については、項目番号12を参照してください。
       - [リンク設定]：\
         値のリンク表示に関する設定をおこないます。\
         列の種類がテキスト、または選択肢のデータ入力列に対して設定できます。\
         [自動]、または[無効化]のいずれかを選択してください。
         - [自動]を選択した場合：\
          「http://」、または「https://」から始まる値をURLと認識し、リンクで表示します。\
           また、[テンプレートURLを利用する]にチェックを入れると、指定したURLに列の値が埋め込まれてリンクで表示されます。\
           指定するURLは「http://」、または「https://」から始まる必要があります。\
           なお、リンクは[Ctrl]キーを押しながらクリックし、表示される画面の[OK]ボタンをクリックすると開くことができます(別タブ表示)。
         - [無効化]を選択した場合：\
           「http://」、または「https://」から始まる値であっても通常のテキストで表示します。
     - 書式設定\
       列に関する書式の設定をおこないます。
       <Table
          headers={ [ "項目名", "説明" ] }
          rows={[
            [ { value: "数値の書式設定", rowSpan: 2 }, "数値の表示方法や表示形式を設定します。" ],
            [ "[表示形式]に「標準」を設定した場合は、表示単位やプレフィックス/サフィックスを追加で設定できます。" ],
            [ { value: "色設定", rowSpan: 21 }, "セルの背景色、および文字色を設定します。" ],
            [ "「カラースケール」、または「データバー」を指定した場合は、しきい値を設定することも可能です。" ],
            [ "しきい値の指定方法は以下のいずれかから選択できます。" ],
            [ "・[自動]：" ],
            [ "　対象列のデータの範囲に応じて自動で設定されます。" ],
            [ "　この指定方法は「データバー」を指定した場合のみ選択できます。" ],
            [ "　設定されるしきい値は以下のとおりです。" ],
            [ "　・正の数のみ" ],
            [ "　　・最小しきい値：0" ],
            [ "　　・最大しきい値：データの最大値" ],
            [ "　・負の数のみ" ],
            [ "　　・最小しきい値：データの最小値" ],
            [ "　　・最大しきい値：0" ],
            [ "　・正の数と負の数が混在" ],
            [ "　　・最小しきい値：データの最小値" ],
            [ "　　・最大しきい値：データの最大値" ],
            [ "・[パーセント]：" ],
            [ "　データの最小値を0％、最大値を100％としたときの値の割合で指定します。" ],
            [ "・[数値]：" ],
            [ "　数値で指定します。" ],
            [ "なお、しきい値を超える値に色を適用しない場合は、[しきい値を超える値は色を適用しない]にチェックを入れてください。" ],
         ]}
       />
     - 昇順で並び替え/降順で並び替え\
       選択中の列の値で並び替えができます。
     - フィルター\
       選択中の列で行を絞り込めます。
       リストビュー上で追加した集計列には設定できません。
     - 列を削除\
       データ入力列、およびリストビューから追加した集計列を削除できます。
     - 列の非表示\
       リストビュー上で非表示にできます。
       非表示にした列を再度表示させたい場合は、[列の表示/非表示]ボタンをクリックして該当の列にチェックをいれてください。
     - 左端に固定/左端に固定を解除\
       選択中の列を左端に固定、もしくは固定を解除できます。
   - データ入力列のヘッダー下部には[鉛筆]アイコンが表示されます。\
     データ入力列の値の編集方法は以下のとおりです。
     - 列の種類が「テキスト」/「複数行テキスト」/「数値」/「日付」の場合：:version[2.4.0]\
       編集するセルを選択して値を入力します。
       - セル内の入力位置は、入力したい位置をクリックすると移動できます。\
         なお、[F2]キーを押すと方向キーでも移動できるようになります。\
         方向キーを再度セル間の移動に使用したい場合は、[Esc]キーを押してください。
       - セル内で[Shift]キーを押しながら入力位置を動かすと範囲選択ができます。
       - 入力後に[Enter]キー、または他のセルをクリックすると内容が確定します。
       - 「複数行テキスト」のセル内で改行するには、[Shift]＋[Enter]キーを押します。
       - 「日付」のセルでは、セル上の[カレンダー]アイコンをクリック、または[Ctrl]＋[Home]キーを押すとカレンダー上で日付を選択できます。
     - 列の種類が「チェックボックス」の場合：\
       チェックボックスをクリックしてon/offを切り換えます。\
       なお、セルを選択している状態で[Enter]キー、または[Space]キーを押すことでもon/offを切り換えることができます。
     - 列の種類が「選択肢」の場合：\
       セル右横の[▼]ボタンをクリックして、値を選択してください。\
       なお、セルを選択している状態で[Enter]キーを押すと選択肢のリストを開くことができます。\
       値を選択して再度[Enter]キーを押すと、内容が確定します。
   - データ入力列では、複数行に対して同じ値を一括で設定することができます。:version[2.4.0]\
     行をマウスオーバーすると左端に表示されるチェックボックスから行を選択し、リスト上部の[一括入力]ボタンをクリックしてください。\
     なお、表示される画面にて値を指定していない列項目に関しては、値の変更はおこなわれません。

1. クリックすると、値を自由に入力できるデータ入力列を追加できます。\
   任意の列を選択してからクリックすると、選択列の右側に挿入されます。\
   なお、データ入力列を追加するには、元データの分析用データにID列が設定されている必要があります。\
   分析用データの詳細については、「[分析用データ画面](/guide/project-details/index.html#分析用データ画面)」を参照してください。
   :::note{.hint}
   ヒント

   リストビュー上でデータ入力列を追加すると、同時に元データの分析用データにも非表示の列として追加されます。:version[2.4.0]\
   追加した列を他の分析でも表示させたい場合は、[データ入力列の追加]画面にて[元の分析用データにも表示させる]にチェックを入れてください。
   :::
1. クリックすると、集計列を追加できます。\
   任意の列を選択してからクリックすると、選択列の右側に挿入されます。\
   集計列は、リストビュー上でのみ閲覧可能な列として追加されます。\
   列の表示名と集計の指定方法を選択し、表示される内容に従って設定してください。
   - [クイック]：:version[2.4.0]\
     集計の対象列と集計方法を指定します。\
     集計方法は、以下のいずれかから選択してください。\
     なお、[集計対象列]に文字列型の項目を追加した場合は、「個数」、「ユニーク数」、「最頻」のいずれかからのみ指定できます。
     | 種類                       | 説明                                         |
     | -------------------------- | ------------------------------------------- |
     | 合計                       | レコードの合計値を計算します。                |
     | 個数                       | レコード数を計算します。                      |
     |                            | 値が欠損しているレコードはカウントされません。 |
     | ユニーク数                 | 重複を除いたレコード数を計算します。           |
     | 平均                       | レコードの平均値を計算します。                |
     | 最大                       | レコードの最大値を計算します。                |
     | 最小                       | レコードの最小値を計算します。                |
     | 最頻                       | レコードの最頻値を計算します。                |

     特定のデータのみで集計したい場合は、[集計対象データのフィルター]から絞り込む条件を設定してください。\
     [+条件を追加]ボタンをクリックすると、AND条件を追加できます。
   - [カスタム]：\
     数式を入力して指定することができます。
   - [数式]：\
     プロジェクトに登録されている数式から選択できます。
1. クリックすると、選択中の列に関する書式設定をおこなえます。
1. クリックすると、選択中のセル、または行に関連するデータが表示されます(単一選択時のみ)。:version[2.4.0]\
   表示された画面上部の[+]ボタンをクリックするか項目の値をダブルクリックしてフィルターを追加すると、さらにデータを絞り込むことができます。
   - 追加した各フィルターの先頭に付いている丸いチェックボックスで、フィルターの有効/無効を切り換えることができます。
   - 追加したフィルターを削除する場合は、フィルターをクリックすると表示されるメニューの[フィルター削除]ボタンをクリックしてください。\
     なお、項目の値をダブルクリックして追加したフィルターであれば、再度同じ値をダブルクリックすることでも削除できます。
   - フィルターをクリックすると、条件を再設定できます。\
     なお、閲覧するユーザーに応じて関連するデータで絞り込みたい場合は、[列]にデータ型が文字列型の列を指定し、条件のプルダウンから「現在のユーザーIDと一致」を選択してください。\
   　[フィルターを適用するユーザー]でユーザー、およびユーザーグループを指定すると、特定のユーザーにのみフィルターを適用できます(指定外のユーザーにはフィルターが無効になります)。

   なお、変更したフィルター設定は、画面を閉じるとリセットされます。
1. 各列の表示/非表示を切り換えられます。
1. 入力欄にキーワードを入力すると、そのキーワードが含まれる行のみが表示されます。
